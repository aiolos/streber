{% extends 'voies.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-md-7">
                    <div class="d-none d-md-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-0 mb-0">
                        <div><a href="/voies/itineraire/{{ itineraire }}" class="btn btn-sm btn-outline-secondary"><i class="fa fa-arrow-left"></i> Terug</a></div>
                        <div class=""><h4 class="text-muted">Voies vertes {{ itineraire }}</h4></div>
                    </div>
                </div>
            </div>
            <div class="d-flex d-md-none justify-content-between flex-no-wrap align-items-center pt-1 pb-2 mb-0">
                <div><a href="/" class="btn btn-sm btn-outline-secondary"><i class="fa fa-arrow-left"></i> Terug</a></div>
                <div class=""><h4 class="text-muted">Voies vertes</h4></div>
            </div>

            <div class="card">
                <div class="h-300">
                    <div id="map" class="map" style="width: 100%; height: 52vh;"></div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="/assets/css/leaflet.css" />
{% endblock %}

{% block javascripts %}
    <script src="/assets/js/leaflet.js"></script>
    <script type="text/javascript" src="/assets/js/polyline.encoded.js"></script>
    <script>
        var feature = L.geoJson({{ feature|raw }});
        var features = {{ features|raw }};

        var map = L.map('map').fitBounds(feature.getBounds());
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        feature.addTo(map);

        for (var key in features) {
            feature = L.geoJson(features[key]);
            feature.addTo(map);
        }
    </script>
{% endblock %}
