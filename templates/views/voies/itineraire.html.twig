{% extends 'voies.html.twig' %}

{% block body %}
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-md-7">
                    <div class="d-none d-md-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-0 mb-0">
                        <div><a href="/voies" class="btn btn-sm btn-outline-secondary"><i class="fa fa-arrow-left"></i> Terug</a></div>
                        <div class=""><h4 class="text-muted">Voies vertes {{ itineraire }}</h4></div>
                    </div>
                </div>
            </div>
            <div class="d-flex d-md-none justify-content-between flex-no-wrap align-items-center pt-1 pb-2 mb-0">
                <div><a href="/voies" class="btn btn-sm btn-outline-secondary"><i class="fa fa-arrow-left"></i> Terug</a></div>
                <div class=""><h4 class="text-muted">Voies vertes {{ itineraire }}</h4></div>
            </div>

            <div class="table-responsive col-12">
                <table class="table table-striped table-sm" id="voiesTable">
                    <thead>
                    <tr>
                        <th>Naam</th>
                        <th>Itineraire</th>
                        <th>QRC</th>
                        <th>#Coordinaten</th>
                        <th>Kaart</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
        $('#voiesTable').DataTable({
            processing: true,
            ajax: {
                url: "/voies/list/{{ itineraire }}",
                dataSrc: "features"
            },
            order: [[ 0, 'asc' ]],
            columns: [
                { data: "name", sortable: true },
                { data: "itineraire", sortable: true, render: function (data) {
                        return '<a href="/voies/filter/' + data + '">' + data + '</a>';
                    } },
                { data: "qrc", sortable: true, render: function (data) {
                        return data;
                    } },
                { data: "coordinates", sortable: true },
                { name: "id", sortable: false, render: function (data, type, row) {
                        return '<a href="/voies/map/' + row.itineraire + '"><i class="fa fa-map"></i></a>';
                    }}
            ]
        });
    </script>
{% endblock %}
